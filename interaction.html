<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-1.12.0.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

		<style type="text/css">

			/* 0. document init*/
			html, body {
				font-family: 'Open Sans', sans-serif;
			}

			/*body {
				margin-top: 10px;
			}*/

			/*1. tables*/
			.table caption {
				font-size:18px;
				color: #222;
			}b

			/* Zebra striping */
			tr:nth-of-type(odd) { 
				background: #eee; 
			}

			span.emphasize {
				font-size: 20px;
				font-weight: bolder;
			}


			/*3. mobile only*/
			@media
			only screen and (max-width: 760px), (min-device-width: 768px) and (max-device-width:1024px) {

				.collapsing {
				    transition: height 0.6s;
				}

				tr:nth-of-type(odd) { 
					background: #eee; 
				}

				.container {
					margin: 0 10px 0 10px;
				}


				/*Set up tables not to act like tables*/
				table, thead, tbody, th, td, tr {
					display: block;
				}

				thead tr {
					position: absolute;
					top: -9999px;
					left:-9999px;
				}

				.leads td:not(.collapsed), .campaigns td {
					border: none;
					border-bottom: 1px solid #eee;
					position: relative;
					padding-left: 50% !important;
				}

				td:before {
					/* Now like a table header */
					position: absolute;
					/* Top/left values mimic padding */
					top: 6px;
					left: 6px;
					width: 45%;
					padding-right: 10px;
					white-space: nowrap;
				}

				td:empty {
					visibility: hidden;
				}

				.cellCaret {
					float: right;
					-webkit-transition: 100ms ease-in-out;
				    -moz-transition: 100ms ease-in-out;
				    -o-transition: 100ms ease-in-out;
				    transition: 100ms ease-in-out;
				}

				.caretUp {
					transform: rotate(180deg);
				}

				.subtitle {
					color: grey;
				}


				.leads td:nth-of-type(1):not(.collapsed):before { content: "Campaign name"; color: #777;}
				.leads td:nth-of-type(2):before { content: "Date"; color: #777;}
				.leads td:nth-of-type(3):before { content: "RM"; color: #777;}
				.leads td:nth-of-type(4):before { content: "Contact person"; color: #777;}

				.campaigns td:nth-of-type(1):before { content: "Campaign name"; color: #777;}
				.campaigns td:nth-of-type(2):before { content: "Date"; color: #777;}
				.campaigns td:nth-of-type(3):before { content: "RM"; color: #777;}
				.campaigns td:nth-of-type(4):before { content: "Contact person"; color: #777;}

				.campaigns tr {
					width: 100%;
					transition: width 1s;
				    -webkit-transition:width 1s;
				    -moz-transition: width 1s;
				}

				/*action div*/
				.actions input {
					margin: 0 15px 0 15px;
					
				}

				.actions span {
					display: inline-block;
					text-align: center;
				}

				.actions a {
					display: block;
				}

				.invisible {
					/*visibility: hidden;
					height: 0px;
					opacity: 0;*/
					width: 0px;
					height: 0px;
					
					transition: width 1s;
				    -webkit-transition:width 1s;
				    -moz-transition: width 1s;
				}

			}

		</style>

		<script type="text/javascript">
			$(document).ready(function(){
				var tr = $("tr");
				tr.each(function(index){
					$(this).find(".subtitle.left").text($(this).find(".subtitle-left-content").text());
				});
				//$("tr .subtitle.left").text($("tr .subtitle-left-content").text());
				$(".clickable").click(function(){
					$(this).toggleClass('collapsed');
					$(this).find('.cellCaret').toggleClass('caretUp');
					$(this).find(".subtitle.left").toggle();
				});

				$("table.campaigns tr:gt(3)").addClass('invisible');
				var page = 1;
				$(".campaign.pager").on("click", ":not(.disabled) a", function(event){
					event.preventDefault();
					var direction =  $(this).parent().hasClass("next") ? "next" : "prev";
					if (direction == "next" && page < 3){
						page = page + 1;

						var lowLimit = (page-1)*3 + 1;
						var highLimit = page*3 + 1;

						$('table.campaigns tr:lt('+ (lowLimit)  +')').addClass('invisible');
						$('table.campaigns tr:gt('+ (lowLimit - 1) +')').removeClass('invisible');
						$('table.campaigns tr:gt('+ (highLimit - 1) +')').addClass('invisible');
						console.log(page);
						if (page == 3){
							$(".campaign.pager .next").toggleClass("disabled");
						}
						if (page != 1) {
							$(".campaign.pager .previous").removeClass("disabled");
						}
					}
					else if (direction == "prev" && page > 1){
						page = page - 1;

						var lowLimit = (page-1)*3 + 1;
						var highLimit = page*3 + 1;

						$('table.campaigns tr:lt('+ (lowLimit)  +')').addClass('invisible');
						$('table.campaigns tr:gt('+ (lowLimit - 1) +')').removeClass('invisible');
						$('table.campaigns tr:gt('+ (highLimit - 1) +')').addClass('invisible');
						console.log(page);
						if (page == 1){
							$(".campaign.pager .previous").toggleClass("disabled");
						}
						if (page != 3){
							$(".campaign.pager .next").removeClass("disabled");
						}
					}
				});

			});
		</script>

	</head>
		<body>
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
			      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
			        <span class="sr-only">Toggle navigation</span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			      </button>
			      <a class="navbar-brand" href="#">CR-ISP mobile</a>
			    </div>
			    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			    	<ul class="nav navbar-nav">
			    		<li class="dropdown">
			    			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Activity planner <span class="caret"></span></a>
			    			<ul class="dropdown-menu">
					            <li><a href="#">Dashboard</a></li>
					            <li><a href="#">Set up a reminder</a></li>
				          	</ul>
			    		</li>
			        	<li class="dropdown">
			          		<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">CBA <span class="caret"></span></a>
			          		<ul class="dropdown-menu">
					            <li><a href="searchCustomers.html">Find a customer</a></li>
					            <li><a href="#">Find a contact person</a></li>
				          	</ul>
			        	</li>
			      	</ul>
			    </div><!-- /.navbar-collapse -->
			</div>
		</nav>

		<div class="container">
			<ul class="list-unstyled customer">
				<li>
					<span class="emphasize name">Mark Jacob Frankenberg</span>
				</li>
				<li>
					<label>Document number</label>
					11836956
				</li>
				<li>
					<label>Status</label>
					Active
				</li>
				<li>
					<label>Type of business</label>
					Small goods import/export
				</li>
				<li>
					<label>Segment</label>
					Micro
				</li>
				<li>
					<label>Group member</label>
					Yes
				</li>
			</ul>
			
			<div class="row text-center actions">
				<span>
					<input type="image" src="icons/money.png" width=40 height=40/>
					<a>Offer</a>
				</span>
				<span>
					<input type="image" src="icons/bell.png" width=40 height=40/>
					<a>Reminder</a>
				</span>
				<span>
					<input type="image" src="icons/calendar.png" width=40 height=40/>
					<a>Meeting</a>
				</span>
			</div>

			<table class="table leads">
				<caption>Leads</caption>
				<thead>
					<tr>
						<th>Campaign name</th>
						<th>Date</th>
						<th>RM</th>
						<th>Contact person</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td data-toggle="collapse" data-target=".1" class="clickable collapsed">	
							<div class="content">Buy everything now*</div>
							<span class="subtitle left"></span>
							<span class="cellCaret caret"></span>
						</td>
						<td class="1 collapse subtitle-left-content">26.09.2016</td>
						<td class="1 collapse">Johnny Walker</td>
						<td class="1 collapse">The Boss</td>
					</tr>
					<tr>
						<td data-toggle="collapse" data-target=".2" class="clickable collapsed">	
							<div class="content">Revolving cards</div>
							<span class="subtitle left"></span> 
							<span class="cellCaret caret"></span>
						</td>
						<td class="2 collapse subtitle-left-content">20.11.2016</td>
						<td class="2 collapse">Johnny Walker</td>
						<td class="2 collapse">Margaret Bullioise</td>
					</tr>
					<tr>
						<td data-toggle="collapse" data-target=".3" class="clickable collapsed">	
							<div class="content">Loan repayement</div> 
							<span class="subtitle left"></span>
							<span class="cellCaret caret"></span>
						</td>
						<td class="3 collapse subtitle-left-content">26.12.2016</td>
						<td class="3 collapse">Johnny Walker</td>
						<td class="3 collapse"></td>
					</tr>
				</tbody>
			</table>

			<!--<table class="table leads">
				<caption>Leads</caption>
				<thead>
					<tr>
						<th>Campaign name</th>
						<th>Date</th>
						<th>RM</th>
						<th>Contact person</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Buy everything now*</td>
						<td>26.09.2016</td>
						<td>Johnny Walker</td>
						<td>The Boss</td>
					</tr>
					<tr>
						<td>Revolving cards</td>
						<td>20.11.2016</td>
						<td>Johnny Walker</td>
						<td>Margaret Bullioise</td>
					</tr>
					<tr>
						<td>Loan repayement</td>
						<td>26.12.2016</td>
						<td>Johnny Walker</td>
						<td></td>
					</tr>
				</tbody>
			</table>
			-->

			<table class="table campaigns">
				<caption>Campaigns</caption>
				<thead>
					<tr>
						<th>Campaign name</th>
						<th>Date</th>
						<th>RM</th>
						<th>Contact person</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Buy everything now*</td>
						<td>26.09.2016</td>
						<td>Johnny Walker</td>
						<td>The Boss</td>
					</tr>
					<tr>
						<td>Revolving cards</td>
						<td>20.11.2016</td>
						<td>Johnny Walker</td>
						<td>Margaret Bullioise</td>
					</tr>
					<tr>
						<td>Loan repayement</td>
						<td>26.12.2016</td>
						<td>Johnny Walker</td>
						<td></td>
					</tr>

					<tr>
						<td>An older campaign*</td>
						<td>26.07.2016</td>
						<td>Johnny Walker</td>
						<td></td>
					</tr>
					<tr>
						<td>Page 2 campaign</td>
						<td>20.11.2016</td>
						<td>Johnny Walker</td>
						<td>Margaret Bullioise</td>
					</tr>
					<tr>
						<td>Loan repayement - the old one</td>
						<td>26.12.2015</td>
						<td>Johnny Walker</td>
						<td></td>
					</tr>

					<tr>
						<td>Very old campaign</td>
						<td>26.07.2016</td>
						<td>Johnny Walker</td>
						<td></td>
					</tr>
					<tr>
						<td>Close this!!!!</td>
						<td>20.11.2016</td>
						<td>Johnny Walker</td>
						<td>Margaret Bullioise</td>
					</tr>
					<tr>
						<td>Overdue loan payment</td>
						<td>26.12.2015</td>
						<td>Johnny Walker</td>
						<td></td>
					</tr>
				</tbody>
			</table>

			<ul class="campaign pager">
				<li class="previous disabled"><a href="#">Previous</a></li>
				<li class="next"><a href="#">Next</a></li>
			</ul>
		</div>
	</body>
</html>